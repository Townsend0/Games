#include<stdio.h>
#include<stdlib.h>
#include<conio.h>
#include<string.h>
#include<time.h>
int main(){
    int a[6][7]={0},b,d,e,*f,g,h[10]={0},i,j=0;
    char c,s[20],t[19],r[3],u,x,y,z;
    for(f=*a;f<=(*(a+5)+6);f++)
    *f='*';
    printf("Do you wanna play with AI or with a friend ( press A to play with the computer): ");
    u=getche();
    if(u=='a'||u=='A'){
        srand(time(NULL));
        printf("\nEnter your name: ");
        scanf("%s",s);
        printf("Enter a character other than capital A: ");
        r[0]=getche();
        for(b=0;b<42;b++){
        printf("\n _______________________________________________________\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n\n    1       2       3       4       5       6       7    \n",a[0][0],a[0][1],a[0][2],a[0][3],a[0][4],a[0][5],a[0][6],a[1][0],a[1][1],a[1][2],a[1][3],a[1][4],a[1][5],a[1][6],a[2][0],a[2][1],a[2][2],a[2][3],a[2][4],a[2][5],a[2][6],a[3][0],a[3][1],a[3][2],a[3][3],a[3][4],a[3][5],a[3][6],a[4][0],a[4][1],a[4][2],a[4][3],a[4][4],a[4][5],a[4][6],a[5][0],a[5][1],a[5][2],a[5][3],a[5][4],a[5][5],a[5][6]);
            for(i=0;i<10;i++)
            (h[i]!=0)&&j++;
            if(j==0){
                do{
                    d=0;
                    if(b%2==1){
                        printf("\nAI's turn(A)");
                        do{
                        c=rand()%6;
                        }while(a[0][c]!='*');
                        for(e=5;e>=0;e--){
                            if(a[e][c]=='*'){
                                a[e][c]='A';
                                break;
                            }
                        }
                    }
                    else{
                        printf("\nYour turn (%c): ",r[0]);
                        c=getche();
                        ((c<'1'||c>'7')&&b%2==0)&&printf("\n\ndear %s enter a number between 1 and 7\n",s)&&d++;
                        if(d==0)
                        (a[0][c-49]!='*')&&printf("\nThe column you just picked is full\n")&&d++;
                        if(d==0){
                            for(e=5;e>=0;e--){
                                if(a[e][c-49]=='*'){
                                    a[e][c-49]=r[0];
                                    break;
                                }
                            }
                        }
                    }
                }while(d);
            }
            if(b>5){
                for(e=0;e<6;e++){
                    for(g=0;g<4;g++){
                        if(a[e][g]==a[e][g+1]&&a[e][g]==a[e][g+2]&&a[e][g]==a[e][g+3]&&a[e][g]=='A'){
                            ++h[0];
                            if(h[0]>1){
                                system("cls");
                                printf("\n _______________________________________________________\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n\n    1       2       3       4       5       6       7    \n",a[0][0],a[0][1],a[0][2],a[0][3],a[0][4],a[0][5],a[0][6],a[1][0],a[1][1],a[1][2],a[1][3],a[1][4],a[1][5],a[1][6],a[2][0],a[2][1],a[2][2],a[2][3],a[2][4],a[2][5],a[2][6],a[3][0],a[3][1],a[3][2],a[3][3],a[3][4],a[3][5],a[3][6],a[4][0],a[4][1],a[4][2],a[4][3],a[4][4],a[4][5],a[4][6],a[5][0],a[5][1],a[5][2],a[5][3],a[5][4],a[5][5],a[5][6]);
                                printf("\n{ AI (A) won }");
                                getche();
                                return 0;
                            }
                        }
                        if(a[e][g]==a[e][g+1]&&a[e][g]==a[e][g+2]&&a[e][g]==a[e][g+3]&&a[e][g]==r[0]){
                            ++h[1];
                            if(h[1]>1){
                                printf("\n{ %s (%c) won }",s,r[0]);
                                getche();
                                return 0;
                            }
                        }
                    }
                }
                for(e=0;e<6;e++){
                    for(g=0;g<4;g++){
                        if(a[g][e]==a[g+1][e]&&a[g][e]==a[g+2][e]&&a[g][e]==a[g+3][e]&&a[g][e]=='A'){
                            ++h[2];
                            if(h[2]>1){
                                system("cls");
                                printf("\n _______________________________________________________\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n\n    1       2       3       4       5       6       7    \n",a[0][0],a[0][1],a[0][2],a[0][3],a[0][4],a[0][5],a[0][6],a[1][0],a[1][1],a[1][2],a[1][3],a[1][4],a[1][5],a[1][6],a[2][0],a[2][1],a[2][2],a[2][3],a[2][4],a[2][5],a[2][6],a[3][0],a[3][1],a[3][2],a[3][3],a[3][4],a[3][5],a[3][6],a[4][0],a[4][1],a[4][2],a[4][3],a[4][4],a[4][5],a[4][6],a[5][0],a[5][1],a[5][2],a[5][3],a[5][4],a[5][5],a[5][6]);
                                printf("\n{ AI (A) won }");
                                getche();
                                return 0;
                            }
                        }
                        if(a[g][e]==a[g+1][e]&&a[g][e]==a[g+2][e]&&a[g][e]==a[g+3][e]&&a[g][e]==r[0]){
                            ++h[3];
                            if(h[3]>1){
                                printf("\n{ %s (%c) won }",s,r[0]);
                                getche();
                                return 0;
                            }
                        }
                    }
                }
                for(e=0;e<3;e++){
                    for(g=3;g<6;g++){
                        if(a[e][g]==a[e+1][g-1]&&a[e][g]==a[e+2][g-2]&&a[e][g]==a[e+3][g-3]&&a[e][g]=='A'){
                            ++h[4];
                            if(h[4]>1){
                                system("cls");
                                printf("\n _______________________________________________________\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n\n    1       2       3       4       5       6       7    \n",a[0][0],a[0][1],a[0][2],a[0][3],a[0][4],a[0][5],a[0][6],a[1][0],a[1][1],a[1][2],a[1][3],a[1][4],a[1][5],a[1][6],a[2][0],a[2][1],a[2][2],a[2][3],a[2][4],a[2][5],a[2][6],a[3][0],a[3][1],a[3][2],a[3][3],a[3][4],a[3][5],a[3][6],a[4][0],a[4][1],a[4][2],a[4][3],a[4][4],a[4][5],a[4][6],a[5][0],a[5][1],a[5][2],a[5][3],a[5][4],a[5][5],a[5][6]);
                                printf("\n{ AI (A) won }");
                                getche();
                                return 0;
                            }
                        }
                        if(a[e][g]==a[e+1][g-1]&&a[e][g]==a[e+2][g-2]&&a[e][g]==a[e+3][g-3]&&a[e][g]==r[0]){
                            ++h[4];
                            if(h[4]>1){
                                printf("\n{ %s (%c) won }",s,r[0]);
                                getche();
                                return 0;
                            }
                        }
                    }
                }
            }
            system("cls");
        }
        printf("\n _______________________________________________________\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n\n    1       2       3       4       5       6       7    \n",a[0][0],a[0][1],a[0][2],a[0][3],a[0][4],a[0][5],a[0][6],a[1][0],a[1][1],a[1][2],a[1][3],a[1][4],a[1][5],a[1][6],a[2][0],a[2][1],a[2][2],a[2][3],a[2][4],a[2][5],a[2][6],a[3][0],a[3][1],a[3][2],a[3][3],a[3][4],a[3][5],a[3][6],a[4][0],a[4][1],a[4][2],a[4][3],a[4][4],a[4][5],a[4][6],a[5][0],a[5][1],a[5][2],a[5][3],a[5][4],a[5][5],a[5][6]);
        printf("\n\n\t\t\t{ Draw }");
        getche();
        return 0;
    }
    else{
        printf("\nfirst player's name: ");
        scanf("%s",s);
        printf("choose a character %s: ",s);
        r[0]=getche();
        printf("\n\nsecond player's name: ");
        scanf("%s",t);
        printf("choose a character %s: ",t);
        r[1]=getche();
        if(r[1]==r[0]){
            printf("\n%c was already picked\nchoose another character %s: ",r[1],t);
            r[1]=getche();
        }
        for(b=0;b<42;b++){
        printf("\n _______________________________________________________\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n\n    1       2       3       4       5       6       7    \n",a[0][0],a[0][1],a[0][2],a[0][3],a[0][4],a[0][5],a[0][6],a[1][0],a[1][1],a[1][2],a[1][3],a[1][4],a[1][5],a[1][6],a[2][0],a[2][1],a[2][2],a[2][3],a[2][4],a[2][5],a[2][6],a[3][0],a[3][1],a[3][2],a[3][3],a[3][4],a[3][5],a[3][6],a[4][0],a[4][1],a[4][2],a[4][3],a[4][4],a[4][5],a[4][6],a[5][0],a[5][1],a[5][2],a[5][3],a[5][4],a[5][5],a[5][6]);
            for(i=0;i<10;i++)
            (h[i]!=0)&&j++;
            if(j==0){
                do{
                    d=0;
                    (b%2)? printf("\n%s's turn (%c): ",t,r[1]): printf("\n%s's turn (%c): ",s,r[0]);
                    c=getche();
                    ((c<'1'||c>'7')&&b%2==0)&&printf("\n\ndear %s enter a number between 1 and 7\n",s)&&d++;
                    ((c<'1'||c>'7')&&b%2!=0)&&printf("\n\ndear %s enter a number between 1 and 7\n",s)&&d++;
                    if(d==0)
                    (a[0][c-49]!='*')&&printf("\nThe column you just picked is full\n")&&d++;
                    if(d==0){
                        for(e=5;e>=0;e--){
                            if(a[e][c-49]=='*'&&b%2==0){
                                a[e][c-49]=r[0];
                                break;
                            }
                            if(a[e][c-49]=='*'&&b%2==1){
                                a[e][c-49]=r[1];
                                break;
                            }
                        }
                    }
                }while(d);
            }
            if(b>5){
                for(e=0;e<6;e++){
                    for(g=0;g<4;g++){
                        if(a[e][g]==a[e][g+1]&&a[e][g]==a[e][g+2]&&a[e][g]==a[e][g+3]&&a[e][g]==r[1]){
                            ++h[0];
                            if(h[0]>1){
                                printf("\n{ %s (%c) won }",t,r[1]);
                                getche();
                                return 0;
                            }
                        }
                        if(a[e][g]==a[e][g+1]&&a[e][g]==a[e][g+2]&&a[e][g]==a[e][g+3]&&a[e][g]==r[0]){
                            ++h[1];
                            if(h[1]>1){
                                printf("\n{ %s (%c) won }",s,r[0]);
                                getche();
                                return 0;
                            }
                        }
                    }
                }
                for(e=0;e<6;e++){
                    for(g=0;g<4;g++){
                        if(a[g][e]==a[g+1][e]&&a[g][e]==a[g+2][e]&&a[g][e]==a[g+3][e]&&a[g][e]==r[1]){
                            ++h[2];
                            if(h[2]>1){
                                printf("\n{ %s (%c) won }",t,r[1]);
                                getche();
                                return 0;
                            }
                        }
                        if(a[g][e]==a[g+1][e]&&a[g][e]==a[g+2][e]&&a[g][e]==a[g+3][e]&&a[g][e]==r[0]){
                            ++h[3];
                            if(h[3]>1){
                                printf("\n{ %s (%c) won }",s,r[0]);
                                getche();
                                return 0;
                            }
                        }
                    }
                }
                for(e=0;e<3;e++){
                    for(g=3;g<6;g++){
                        if(a[e][g]==a[e+1][g-1]&&a[e][g]==a[e+2][g-2]&&a[e][g]==a[e+3][g-3]&&a[e][g]==r[1]){
                            ++h[4];
                            if(h[4]>1){
                                printf("\n{ %s (%c) won }",t,r[1]);
                                getche();
                                return 0;
                            }
                        }
                        if(a[e][g]==a[e+1][g-1]&&a[e][g]==a[e+2][g-2]&&a[e][g]==a[e+3][g-3]&&a[e][g]==r[0]){
                            ++h[4];
                            if(h[4]>1){
                                printf("\n{ %s (%c) won }",s,r[0]);
                                getche();
                                return 0;
                            }
                        }
                    }
                }
            }
            system("cls");
        }
        printf("\n _______________________________________________________\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n|       |       |       |       |       |       |       |\n|   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |   %c   |\n|_______|_______|_______|_______|_______|_______|_______|\n\n    1       2       3       4       5       6       7    \n",a[0][0],a[0][1],a[0][2],a[0][3],a[0][4],a[0][5],a[0][6],a[1][0],a[1][1],a[1][2],a[1][3],a[1][4],a[1][5],a[1][6],a[2][0],a[2][1],a[2][2],a[2][3],a[2][4],a[2][5],a[2][6],a[3][0],a[3][1],a[3][2],a[3][3],a[3][4],a[3][5],a[3][6],a[4][0],a[4][1],a[4][2],a[4][3],a[4][4],a[4][5],a[4][6],a[5][0],a[5][1],a[5][2],a[5][3],a[5][4],a[5][5],a[5][6]);
        printf("\n\n\t\t\t{ Draw }");
        getche();
        return 0;
    }
}